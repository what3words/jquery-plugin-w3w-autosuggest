{"version":3,"sources":["jquery.w3w-autosuggest-plugin.min.js"],"names":["factory","define","amd","module","exports","root","jQuery","undefined","window","require","$","twaPartialRegex","twaRegex","AutoSuggest","element","options","this","_api_end_point","_name","_defaults","fn","w3wAddress","defaults","extend","api_end_point","init","prototype","buildWrappers","autoSuggest","validation","destroy","unbindEvents","$element","removeData","direction","wrapAll","logo","addClass","closest","prepend","after","attr","placeholder","bindEvents","off","callback","onComplete","call","key","console","log","debug","lang","css","hint","validationTypingTimer","_self","counter","focusout","value","test","replace","form","length","validate","isSuccess","suggestions","find","i","innerText","typeahead","input","minLength","compression","emptyTemplate","dynamic","delay","typeaheadDelay","maxItem","source","autosuggest","filter","item","displayKey","selectedCountry","country_filter","get","val","toLowerCase","country","results","display","template","query","join","ajax","addr","indexOf","exec","trigger","data","format","count","focus","clip","multilingual","type","url","path","onSearch","node","onInit","selector","onResult","result","resultCount","text","onNavigateAfter","lis","a","event","words","onClickAfter","nextAll","empty","hasClass","clearTimeout","clearValidationMark","removeClass","setTimeout","onCancel","validator","addMethod","optional","dataType","success","hasOwnProperty","valid_error","addClassRules","w3w_valid","typingTimer","onfocusout","onkeyup","doneTyping","valid","errorPlacement","error","valid_container","appendTo","siblings","each"],"mappings":";;;;;;;;;CAUC,SAAUA,GAEa,kBAAXC,SAAyBA,OAAOC,IACzCD,QAAQ,UAAWD,GACQ,gBAAXG,SAAuBA,OAAOC,QAE9CD,OAAOC,QAAU,SAAUC,EAAMC,GAS/B,WAReC,KAAXD,IAEAA,EADoB,mBAAXE,QACAC,QAAQ,UAERA,QAAQ,UAAUJ,IAG/BL,EAAQM,GACDA,GAKTN,EAAQM,SAEV,SAAUI,GACV,YAEA,IAEIC,GAAkB,sCAClBC,EAAW,sCASXC,EAAc,SAAUC,EAASC,GACnCC,KAAKC,eAAiB,iCACtBD,KAAKF,QAAUA,EACfE,KAAKE,MAfU,aAgBfF,KAAKG,UAAYT,EAAEU,GAAGC,WAAWC,SACjCN,KAAKD,QAAUL,EAAEa,UAAWP,KAAKG,UAAWJ,OAEF,KAA/BC,KAAKD,QAAQS,gBACtBR,KAAKC,eAAiBD,KAAKD,QAAQS,eAErCR,KAAKS,OAGPf,GAAEa,OAAOV,EAAYa,WAEnBD,KAAM,WAEJT,KAAKW,gBAELX,KAAKY,cAELZ,KAAKa,cAGPC,QAAS,WACPd,KAAKe,eACLf,KAAKgB,SAASC,cAGhBN,cAAe,WACb,GAAIO,GAAYlB,KAAKD,QAAQmB,SAE7BxB,GAAEM,KAAKF,SAASqB,QACd,oCAAsCD,EAAY,sFAGhDlB,KAAKD,QAAQqB,OACf1B,EAAEM,KAAKF,SAASuB,SAAS,sBACzB3B,EAAEM,KAAKF,SAASwB,QAAQ,yBAAyBC,QAAQ,kHAEvDvB,KAAKD,QAAQc,YACfnB,EAAEM,KAAKF,SAASwB,QAAQ,yBAAyBE,MAAM,iDAEzD9B,EAAEM,KAAKF,SAASuB,SAAS,wBAAwBI,KAAK,cAAezB,KAAKD,QAAQ2B,YAAc,KAAKD,KAAK,eAAgB,OAAOA,KAAK,MAAO,QAAQA,KAAK,eAAgB,SAG5KE,WAAY,aAKZZ,aAAc,WACZf,KAAKgB,SAASY,IAAI,IAAM5B,KAAKE,QAG/B2B,SAAU,WAER,GAAIC,GAAa9B,KAAKD,QAAQ+B,UAEJ,mBAAfA,IACTA,EAAWC,KAAK/B,KAAKF,UAIzBc,YAAa,WACc,KAArBZ,KAAKD,QAAQiC,KAAmC,OAArBhC,KAAKD,QAAQiC,KAC1CC,QAAQC,IAAI,gCACRlC,KAAKD,QAAQoC,OACfF,QAAQC,IAAI,wIAGVlC,KAAKD,QAAQoC,OACfF,QAAQC,IAAI,uBAAyBlC,KAAKD,QAAQiC,KAK5B,OAAtBhC,KAAKD,QAAQqC,OACf1C,EAAEM,KAAKF,SAASuC,IAAI,YAAa,OACjCrC,KAAKD,QAAQuC,MAAO,EAGtB,IAEIC,GAFAC,EAAQxC,KACRyC,EAAU,CAGd/C,GAAEM,KAAKF,SAAS4C,SAAS,WAEvB,GADAT,QAAQC,IAAI,QAASlC,KAAK2C,OACtB,IAAIC,KAAK5C,KAAK2C,OAGhB,GAFAV,QAAQC,IAAI,eACZlC,KAAK2C,MAAQ3C,KAAK2C,MAAME,QAAQ,KAAM,IAClCL,EAAMzC,QAAQc,WAAY,CAE5B,GAAIiC,GAAOpD,EAAE8C,EAAM1C,SAASwB,QAAQ,OAChCwB,GAAKC,QAAUD,EAAKC,OAAS,GAE/BD,EAAKE,WAAWlD,QAAQ,6BAErB,CACL,GAAImD,IAAY,EAEZC,EAAcxD,EAAE8C,EAAM1C,SAASwB,QAAQ,yBAAyB6B,KAAK,sBACzE,QAA2B,KAAhBD,GAA+BA,EAAYH,OAAS,EAC7D,IAAK,GAAIK,GAAI,EAAGA,EAAIF,EAAYH,SAAWE,EAAWG,IAChDF,EAAYE,GAAGC,YAAcrD,KAAK2C,QACpCM,GAAY,EAEZvD,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,OAQlD/B,EAAE4D,WACAnB,MAAOnC,KAAKD,QAAQoC,MACpBoB,MAAO7D,EAAEM,KAAKF,SACd0D,UAAW,EACXC,aAAa,EACbnB,KAAMtC,KAAKD,QAAQuC,KACnBoB,eAAe,EACfC,SAAS,EACTC,MAAO5D,KAAKD,QAAQ8D,eACpBC,QAAS,GACTC,QACEC,aACEC,OAAQ,SAAUC,EAAMC,GAEtB,GAAIC,GAAkB,IAoBtB,OAnBqC,QAAjC5B,EAAMzC,QAAQsE,iBACZ3E,EAAE8C,EAAMzC,QAAQsE,gBAAgBC,IAAI,IAEtCF,EAAkB1E,EAAE8C,EAAMzC,QAAQsE,gBAAgBE,MAOnB,iBAL7BH,EAD6B,gBAApBA,GACSA,EAAgBI,cAEhB,OAGkD,IAA3BJ,EAAgBrB,SACzDqB,EAAkB,OAGwB,gBAAjC5B,GAAMzC,QAAQsE,gBAAuE,IAAxC7B,EAAMzC,QAAQsE,eAAetB,SACnFqB,EAAkB5B,EAAMzC,QAAQsE,eAAeG,gBAI7B,OAApBJ,GAEE5B,EAAMzC,QAAQoC,QAChBF,QAAQC,IAAI,+BACZD,QAAQC,IAAIxC,EAAE8C,EAAMzC,QAAQsE,iBAC5BpC,QAAQC,IAAI,wBAA0BkC,GACtCnC,QAAQC,IAAI,sCAGVgC,EAAKO,UAAYL,IACf3B,EAAUD,EAAMzC,QAAQ2E,UAC1BjC,KACO,KAOPA,EAAUD,EAAMzC,QAAQ2E,SAC1BjC,KACO,OAFT,IAOJkC,SAAU,SACVC,SAAU,SAAUC,EAAOX,GACzB,OACE,sCACA,2DACA,UACA,gDACA,OACA,iCACA,YACA,UACA,UACAY,KAAK,OAETC,KAAM,SAAUF,GACd,GAAIG,GAAOH,CAKX,IAJ4B,IAAxBG,EAAKC,QAAQ,SACfD,EAAOA,EAAKnC,QAAQ,SAAU,KAGtB,OADFlD,EAAgBuF,KAAKF,GACb,CAEdtF,EAAE8C,EAAM1C,SAASqF,QAAQ,YAAaN,GAEtC,IAAIO,IACFJ,KAAMA,EACNK,OAAQ,OACRrD,IAAKQ,EAAMzC,QAAQiC,IACnBsD,MAAO9C,EAAMzC,QAAQuF,MACrBX,QAAS,YAGuB,KAAvBnC,EAAMzC,QAAQqC,MAAwBI,EAAMzC,QAAQqC,OAC7DgD,EAAKhD,KAAOI,EAAMzC,QAAQqC,UAEO,KAAxBI,EAAMzC,QAAQwF,OAAyB/C,EAAMzC,QAAQwF,QAC9DH,EAAKG,MAAQ/C,EAAMzC,QAAQwF,WAEK,KAAvB/C,EAAMzC,QAAQyF,MAAwBhD,EAAMzC,QAAQyF,OAC7DJ,EAAKI,KAAOhD,EAAMzC,QAAQyF,MAGvBhD,EAAMzC,QAAQ0F,kBAAqC,KAAdL,EAAKhD,OAC7CgD,EAAKhD,KAAO,KAEd,IAAI4B,GAAcxB,EAAMzC,QAAQ0F,aAC5B,iBACA,aACJ,QACEC,KAAM,MACNC,IAAKnD,EAAMvC,eAAiB+D,EAC5BoB,KAAMA,EACNQ,KAAM,eAIR,OAAO,KAKf/D,UACEgE,SAAU,SAAUC,EAAMjB,GACxBpC,EAAU,EACV/C,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,IAExCsE,OAAQ,SAAUD,GAEZtD,EAAMzC,QAAQoC,OAChBF,QAAQC,IAAI,4CAA8C4D,EAAKE,WAGnEC,SAAU,SAAUH,EAAMjB,EAAOqB,EAAQC,GAEvC,GAAc,KAAVtB,EAAJ,CAGA,GAAIuB,GAAO,EACW,KAAlBF,EAAOnD,OACTqD,EAAO,wBAA0BvB,EAAQ,IAChCqB,EAAOnD,OAAS,GAAKmD,EAAOnD,OAASoD,EAC9CC,EAAO,WAAaF,EAAOnD,OAAS,OAASoD,EAAc,uBAAyBtB,EAAQ,IACnFqB,EAAOnD,OAAS,IACzBqD,EAAO,WAAaF,EAAOnD,OAAS,4BAA8B8B,EAAQ,KAE5EuB,GAAQ,eAAiB5D,EAAMzC,QAAQqC,SACJ,KAAxBI,EAAMzC,QAAQwF,MACvBa,GAAQ,gBAAkB5D,EAAMzC,QAAQwF,MAExCa,GAAQ,kBAGN5D,EAAMzC,QAAQoC,OAChBF,QAAQC,IAAIkE,KAGhBC,gBAAiB,SAAUP,EAAMQ,EAAKC,EAAGrC,EAAMW,EAAO2B,OAChC,KAATtC,OAA8C,KAAfA,EAAKuC,MAC7C/G,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,GAGtC/B,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,IAG1CiF,aAAc,SAAUZ,EAAMS,EAAGrC,EAAMsC,GACrC,GAAIhE,EAAMzC,QAAQc,WAAY,CAE5B,GAAIiC,GAAOpD,EAAE8C,EAAM1C,SAASwB,QAAQ,OACpC,IAAIwB,EAAKC,QAAUD,EAAKC,OAAS,EAAG,CAElCD,EAAKE,WAAWlD,QAAQ,yBAExBJ,EAAE8C,EAAM1C,SAASwB,QAAQ,yBAAyBqF,QAAQ,8BAA8BC,QACnFlH,EAAE8C,EAAM1C,SAASwB,QAAQ,qBAAqBuF,SAAS,UAC1DnH,EAAE8C,EAAM1C,SAASwB,QAAQ,qBAAqBD,SAAS,SAEzDyF,aAAavE,EAEb,IAAIwE,GAAsB,WAExBrH,EAAE8C,EAAM1C,SAASwB,QAAQ,qBAAqB0F,YAAY,SAE5DzE,GAAwB0E,WAAWF,EAAqB,UAGxC,KAAT7C,OAA8C,KAAfA,EAAKuC,MAC7C/G,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,IAEtC/B,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,OAClB,KAATyC,GACTxE,EAAE8C,EAAM1C,SAASqF,QAAQ,aAAcjB,MAI7CgD,SAAU,SAAUpB,EAAMU,GACpBhE,EAAMzC,QAAQc,YAChBnB,EAAE8C,EAAM1C,SAASwB,QAAQ,yBAAyBqF,QAAQ,8BAA8BC,QAE1FlH,EAAE8C,EAAM1C,SAAS2B,KAAK,gBAAgB,GACtC/B,EAAE8C,EAAM1C,SAASqF,QAAQ,eAMjCtE,WAAY,WAEV,IAAgC,IAA5Bb,KAAKD,QAAQc,WAAjB,CAKIb,KAAKD,QAAQoC,OACfF,QAAQC,IAAI,kCAGd,IAEIM,GAAQxC,IAGZN,GAAEyH,UAAUC,UAAU,YAAa,SAAUzE,EAAO7C,GAElD,GAAIE,KAAKqH,SAASvH,IAAwC,KAA5B6C,EAAME,QAAQ,KAAM,IAEhD,OAAO,CAGP,IAAII,IAAY,EACZ+B,EAAOrC,CAGX,IAAU,OADF/C,EAASsF,KAAKF,GACN,CAEd,GAAI9B,GAAcxD,EAAEI,GAASwB,QAAQ,yBAAyB6B,KAAK,sBACnE,QAA2B,KAAhBD,GAA+BA,EAAYH,OAAS,EAC7D,IAAK,GAAIK,GAAI,EAAGA,EAAIF,EAAYH,SAAWE,EAAWG,IAChDF,EAAYE,GAAGC,YAAcV,IAC/BM,GAAY,EAKbA,IAEHvD,EAAEqF,MACAY,IAAKnD,EAAMvC,eAAiB,UAC5ByF,KAAM,MAENN,MACEJ,KAAMA,EACNhD,IAAKQ,EAAMzC,QAAQiC,IACnBqD,OAAQ,QAEViC,SAAU,OACVC,QAAS,SAAUrB,GACFA,EAEFsB,eAAe,cAC1BvE,GAAY,MAMtB,MAAOA,IAER,WAKC,MAAOT,GAAMzC,QAAQ0H,cAKzB/H,EAAEyH,UAAUO,cAAc,wBAAyBC,WAAW,GAE9D,IAAIC,GAGA9E,EAAOpD,EAAEM,KAAKF,SAASwB,QAAQ,OAC/BwB,GAAKC,QAAUD,EAAKC,OAAS,GAE/BD,EAAKE,UACH6E,YAAY,EACZC,QAAS,SAAUhI,GACjB,GAAIJ,EAAEI,GAAS+G,SAAS,wBAAyB,CAC/CC,aAAac,EAGb,IAAIG,GAAa,WAEfrI,EAAEI,GAASwB,QAAQ,qBAAqB0F,YAAY,SAGhDrH,EAAgBiD,KAAKlD,EAAEI,GAASyE,QAClC7E,EAAEI,GAASkI,QAIfJ,GAAcX,WAAWc,EAtBR,OAyBrBE,eAAgB,SAAUC,EAAOpI,GAC/B,GAAIqI,GAAkBrI,EAAQwB,QAAQ,wBACtC4G,GAAME,SAASD,EAAgBE,SAAS,sCAYlD3I,EAAEU,GAAGC,WAAa,SAAUN,GAM1B,MALAC,MAAKsI,KAAK,WACH5I,EAAE0F,KAAKpF,KAAM,sBAChBN,EAAE0F,KAAKpF,KAAM,oBAAwB,GAAIH,GAAYG,KAAMD,MAGxDC,MAQTN,EAAEU,GAAGC,WAAWC,UACd+D,eAAgB,KAChBrC,IAAK,GACLG,OAAO,EACPG,MAAM,EACNgD,MAAO,GACPZ,QAAS,EACTtD,MAAM,EACNgB,KAAM,KACNmD,MAAO,KACPC,KAAM,KACNC,cAAc,EACdvE,UAAW,MACXQ,YAAa,wBACbb,YAAY,EACZ4G,YAAa,uCACb5D,eAAgB","file":"jquery.w3w-autosuggest-plugin.min.js","sourcesContent":["/*!\n * what3words autosuggest jQuery plugin\n * Copyright (C) 2017 what3words Limited\n * Licensed under the MIT license\n *\n * @author what3words\n * @version 1.5.0\n * @link https://github.com/what3words/jquery-plugin-w3w-autosuggest\n */\n!function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):\"object\"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n=\"undefined\"!=typeof window?require(\"jquery\"):require(\"jquery\")(t)),e(n),n}:e(jQuery)}(function(e){\"use strict\";var t=/^(\\D{1,})[.・](\\D{1,})[.・](\\D{1,})$/i,n=/^(\\D{2,})[.・](\\D{2,})[.・](\\D{2,})$/i,o=function(t,n){this._api_end_point=\"https://api.what3words.com/v2/\",this.element=t,this._name=\"w3wAddress\",this._defaults=e.fn.w3wAddress.defaults,this.options=e.extend({},this._defaults,n),void 0!==this.options.api_end_point&&(this._api_end_point=this.options.api_end_point),this.init()};e.extend(o.prototype,{init:function(){this.buildWrappers(),this.autoSuggest(),this.validation()},destroy:function(){this.unbindEvents(),this.$element.removeData()},buildWrappers:function(){var t=this.options.direction;e(this.element).wrapAll('<div class=\"typeahead__container '+t+'\"><div class=\"typeahead__field\"><span class=\"typeahead__query\"></span></div></div>'),this.options.logo&&(e(this.element).addClass(\"typeahead__padlogo\"),e(this.element).closest(\".typeahead__container\").prepend('<img class=\"typeahead__w3w-logo\" src=\"https://assets.what3words.com/images/w3w_grid-logo.svg\" alt=\"w3w-logo\">')),this.options.validation&&e(this.element).closest(\".typeahead__container\").after('<div class=\"typeahead__w3w_validation\"></div>'),e(this.element).addClass(\"typeahead__w3w_valid\").attr(\"placeholder\",this.options.placeholder+\" \").attr(\"autocomplete\",\"off\").attr(\"dir\",\"auto\").attr(\"aria-invalid\",\"true\")},bindEvents:function(){},unbindEvents:function(){this.$element.off(\".\"+this._name)},callback:function(){var e=this.options.onComplete;\"function\"==typeof e&&e.call(this.element)},autoSuggest:function(){\"\"===this.options.key||null===this.options.key?(console.log(\"No what3words API key found!\"),this.options.debug&&console.log(\"A what3words API key is required to use the AutoSuggest plugin. Information on how to register for a key can be found in the README\")):this.options.debug&&console.log(\"what3words API key: \"+this.options.key),\"ar\"===this.options.lang&&(e(this.element).css(\"direction\",\"rtl\"),this.options.hint=!1);var n,o=this,i=0;e(this.element).focusout(function(){if(console.log(\"trim?\",this.value),/ /.test(this.value))if(console.log(\"trim needed\"),this.value=this.value.replace(/ /g,\"\"),o.options.validation){var t=e(o.element).closest(\"form\");t.length&&t.length>0&&t.validate().element(\".typeahead__w3w_valid\")}else{var n=!1,i=e(o.element).closest(\".typeahead__container\").find(\"span.typeahead__twa\");if(void 0!==i&&i.length>0)for(var a=0;a<i.length&&!n;a++)i[a].innerText===this.value&&(n=!0,e(o.element).attr(\"aria-invalid\",!1))}}),e.typeahead({debug:this.options.debug,input:e(this.element),minLength:5,compression:!0,hint:this.options.hint,emptyTemplate:!1,dynamic:!0,delay:this.options.typeaheadDelay,maxItem:20,source:{autosuggest:{filter:function(t,n){var a=null;return null!==o.options.country_filter&&(e(o.options.country_filter).get(0)?(a=e(o.options.country_filter).val(),\"string\"==typeof(a=\"string\"==typeof a?a.toLowerCase():null)&&2===a.length||(a=null)):\"string\"==typeof o.options.country_filter&&2===o.options.country_filter.length&&(a=o.options.country_filter.toLowerCase())),null!==a?(o.options.debug&&(console.log(\"w3wAddress country_filter: \"),console.log(e(o.options.country_filter)),console.log(\"Selected Country is: \"+a),console.log(\"#################################\")),t.country===a&&(i<o.options.results&&(i++,!0))):i<o.options.results?(i++,!0):void 0},display:[\"words\"],template:function(e,t){return['<div class=\"typeahead__list-inner\">','<span class=\"typeahead__twa-flag w3w-flags-{{country}}\">',\"</span>\",'<span class=\"typeahead__twa\">{{words}}</span>',\"<br>\",'<span class=\"typeahead__info\">',\"{{place}}\",\"</span>\",\"</div>\"].join(\"\\n\")},ajax:function(n){var i=n;if(0===i.indexOf(\"///\")&&(i=i.replace(/\\/\\/\\//,\"\")),null!==t.exec(i)){e(o.element).trigger(\"searched\",[n]);var a={addr:i,format:\"json\",key:o.options.key,count:o.options.count,display:\"full\"};void 0!==o.options.lang&&o.options.lang&&(a.lang=o.options.lang),void 0!==o.options.focus&&o.options.focus&&(a.focus=o.options.focus),void 0!==o.options.clip&&o.options.clip&&(a.clip=o.options.clip),o.options.multilingual||void 0!==a.lang||(a.lang=\"en\");var s=o.options.multilingual?\"autosuggest-ml\":\"autosuggest\";return{type:\"GET\",url:o._api_end_point+s,data:a,path:\"suggestions\"}}return!1}}},callback:{onSearch:function(t,n){i=0,e(o.element).attr(\"aria-invalid\",!0)},onInit:function(e){o.options.debug&&console.log(\"w3wAddress typeahead initiated on field: \"+e.selector)},onResult:function(e,t,n,i){if(\"\"!==t){var a=\"\";0===n.length?a='No results matching \"'+t+'\"':n.length>0&&n.length<i?a=\"Showing \"+n.length+\" of \"+i+' elements matching \"'+t+'\"':n.length>0&&(a=\"Showing \"+n.length+\" elements matching addr= \"+t+'\"'),a+=\", with lang=\"+o.options.lang,void 0!==o.options.focus?a+=\", with focus=\"+o.options.focus:a+=\", without focus\",o.options.debug&&console.log(a)}},onNavigateAfter:function(t,n,i,a,s,l){void 0===a||void 0===a.words?e(o.element).attr(\"aria-invalid\",!0):e(o.element).attr(\"aria-invalid\",!1)},onClickAfter:function(t,i,a,s){if(o.options.validation){var l=e(o.element).closest(\"form\");if(l.length&&l.length>0){l.validate().element(\".typeahead__w3w_valid\"),e(o.element).closest(\".typeahead__container\").nextAll(\".typeahead__w3w_validation\").empty(),e(o.element).closest(\".typeahead__query\").hasClass(\"valid\")||e(o.element).closest(\".typeahead__query\").addClass(\"valid\"),clearTimeout(n);var d=function(){e(o.element).closest(\".typeahead__query\").removeClass(\"valid\")};n=setTimeout(d,500)}}void 0===a||void 0===a.words?e(o.element).attr(\"aria-invalid\",!0):(e(o.element).attr(\"aria-invalid\",!1),void 0!==a&&e(o.element).trigger(\"selection\",[a]))},onCancel:function(t,n){o.options.validation&&e(o.element).closest(\".typeahead__container\").nextAll(\".typeahead__w3w_validation\").empty(),e(o.element).attr(\"aria-invalid\",!0),e(o.element).trigger(\"cancel\")}}})},validation:function(){if(!1!==this.options.validation){this.options.debug&&console.log(\"Validating the w3wAddress field\");var o=this;e.validator.addMethod(\"w3w_valid\",function(t,i){if(this.optional(i)||\"\"===t.replace(/ /g,\"\"))return!0;var a=!1,s=t;if(null!==n.exec(s)){var l=e(i).closest(\".typeahead__container\").find(\"span.typeahead__twa\");if(void 0!==l&&l.length>0)for(var d=0;d<l.length&&!a;d++)l[d].innerText===t&&(a=!0);a||e.ajax({url:o._api_end_point+\"forward\",type:\"GET\",data:{addr:s,key:o.options.key,format:\"json\"},dataType:\"json\",success:function(e){e.hasOwnProperty(\"geometry\")&&(a=!0)}})}return a},function(){return o.options.valid_error}),e.validator.addClassRules(\"typeahead__w3w_valid\",{w3w_valid:!0});var i,a=e(this.element).closest(\"form\");a.length&&a.length>0&&a.validate({onfocusout:!1,onkeyup:function(n){if(e(n).hasClass(\"typeahead__w3w_valid\")){clearTimeout(i);var o=function(){e(n).closest(\".typeahead__query\").removeClass(\"valid\"),t.test(e(n).val())&&e(n).valid()};i=setTimeout(o,500)}},errorPlacement:function(e,t){var n=t.closest(\".typeahead__container\");e.appendTo(n.siblings(\".typeahead__w3w_validation\"))}})}}}),e.fn.w3wAddress=function(t){return this.each(function(){e.data(this,\"plugin_w3wAddress\")||e.data(this,\"plugin_w3wAddress\",new o(this,t))}),this},e.fn.w3wAddress.defaults={country_filter:null,key:\"\",debug:!1,hint:!1,count:50,results:3,logo:!0,lang:\"en\",focus:null,clip:null,multilingual:!0,direction:\"ltr\",placeholder:\"e.g. lock.spout.radar\",validation:!0,valid_error:\"Please enter a valid 3 word address.\",typeaheadDelay:100}});\n//# sourceMappingURL=jquery.w3w-autosuggest-plugin.min.js.map\n"]}