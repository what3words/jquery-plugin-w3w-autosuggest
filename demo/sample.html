<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>what3words autosuggest jQuery plugin DEMO</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <!-- include plugin's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/jquery.selectric/1.11.1/selectric.css">
  <link rel="stylesheet" href="../dist/css/jquery.w3w-autosuggest-plugin.bundle.css">
  <!-- <link rel="stylesheet" href="./jquery.typeahead.min.css"> -->
</head>
<style>
html {

}
body {
  padding-top: 50px;
}

.demo {
  padding: 40px 15px;
}

.nav-tabs {
  margin-top: 20px;
}

.form-group {
  vertical-align: top !important;
}

</style>

<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button> -->
        <a class="navbar-brand" href="#">what3words autosuggest jQuery plugin</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <!-- <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#about">About</a></li>
        </ul> -->
      </div>
      <!--/.nav-collapse -->
    </div>
  </nav>
  <div class="container">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#multilingual" aria-controls="multilingual" role="tab" data-toggle="tab">multilingual</a></li>
      <li role="presentation"><a href="#autosuggest" aria-controls="autosuggest" role="tab" data-toggle="tab">autosuggest classic</a></li>
      <li role="presentation"><a href="#countryfilter" aria-controls="noform" role="tab" data-toggle="tab">country filter</a></li>
      <li role="presentation"><a href="#noform" aria-controls="noform" role="tab" data-toggle="tab">without form</a></li>
      <li role="presentation"><a href="#tabrtl" aria-controls="tabrtl" role="tab" data-toggle="tab">rtl</a></li>
      <li role="presentation"><a href="#tabclip" aria-controls="tabclip" role="tab" data-toggle="tab">clipping</a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="multilingual">
        <div class="panel demo">
          <div class="panel-body">
            <h2>using validation-plugin</h2>
            <form>
              <div class="form-row">
                <input type="text" class="w3w-address-field" id="ml-one">
              </div>
            </form>
          </div>
        </div>
        <div class="panel demo">
          <div class="panel-body">
            <h2>not using validation-plugin</h2>
            <form>
              <div class="form-row">
                <input type="text" class="w3w-address-field" id="ml-no-validation">
              </div>
              <h3><small><code>aria-invalid</code> attribute is set when selecting a suggestion</small></h3>
            </form>
          </div>
        </div>
        <div class="panel demo">
          <div class="panel-body">
            <h2>using two inputs (applied on css class)</h2>
            <form>
              <div class="form-row">
                <input type="text" name="billing-address" class="w3w-address-field ml-demo">
              </div>
              <div class="form-row">
                <input type="text" name="delivery-address" class="w3w-address-field ml-demo">
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- /.multilingual -->
      <div role="tabpanel" class="tab-pane" id="autosuggest">
        <div class="panel demo">
          <div class="panel-body">
            <h2>using validation-plugin</h2>
            <form action="" id="">
              <div class="form-row">
                <input type="text" class="w3w-address-field" id="autosuggest-en-val">
              </div>
            </form>
          </div>
        </div>
        <div class="panel demo">
          <div class="panel-body">
            <h2>not using validation-plugin</h2>
            <form action="" id="">
              <div class="form-row">
                <input type="text" class="w3w-address-field" id="autosuggest-en-no-val">
              </div>
              <h3><small><code>aria-invalid</code> attribute is set when selecting a suggestion</small></h3>
            </form>
          </div>
        </div>
      </div>
      <!-- /.autosuggest -->
      <div role="tabpanel" class="tab-pane" id="countryfilter">
        <div class="panel demo">
          <div class="panel-body">
            <h2><code>country_filter</code> set to <code>gb</code></h2>
            <form>
              <div class="form-row">
                <input type="text" class="w3w-address-field" id="country-fixed">
              </div>
            </form>
          </div>
        </div>
        <div class="panel demo">
          <div class="panel-body">
            <h2>dynamic <code>country_filter</code> from input type <code>select</code></h2>
            <form action="" id="" class="">
              <div class="form-group">
                <label for="selectCountry">Country</label>
                <select name="country" id="selectCountry" class="form-control">
                  <option value="at" label="Austria">Austria</option>
                  <option value="be" label="Belgium">Belgium</option>
                  <option value="bg" label="Bulgaria">Bulgaria</option>
                  <option value="hr" label="Croatia">Croatia</option>
                  <option value="cy" label="Cyprus">Cyprus</option>
                  <option value="cz" label="Czech Republic">Czech Republic</option>
                  <option value="dk" label="Denmark">Denmark</option>
                  <option value="ee" label="Estonia">Estonia</option>
                  <option value="fi" label="Finland">Finland</option>
                  <option value="fr" label="France">France</option>
                  <option value="de" label="Germany">Germany</option>
                  <option value="gr" label="Greece">Greece</option>
                  <option value="hu" label="Hungary">Hungary</option>
                  <option value="ie" label="Ireland">Ireland</option>
                  <option value="it" label="Italy" selected="true">Italy</option>
                  <option value="lv" label="Latvia">Latvia</option>
                  <option value="lt" label="Lithuania">Lithuania</option>
                  <option value="lu" label="Luxembourg">Luxembourg</option>
                  <option value="mt" label="Malta">Malta</option>
                  <option value="nl" label="Netherlands">Netherlands</option>
                  <option value="pl" label="Poland">Poland</option>
                  <option value="pt" label="Portugal">Portugal</option>
                  <option value="ro" label="Romania">Romania</option>
                  <option value="sk" label="Slovakia">Slovakia</option>
                  <option value="si" label="Slovenia">Slovenia</option>
                  <option value="es" label="Spain">Spain</option>
                  <option value="se" label="Sweden">Sweden</option>
                  <!-- done on #BrexitDay 29/03/2017 by bye UK -->
                  <option value="gb" label="United Kingdom">United Kingdom</option>
                </select>
              </div>
              <div class="form-group">
                <label for="country-dyn-select">3wordaddress</label>
                <input type="text" class="form-control w3w-address-field" id="country-dyn-select">
              </div>
            </form>
          </div>
        </div>
        <div class="panel demo">
          <div class="panel-body">
            <h2>dynamic <code>country_filter</code> from input type <code>hidden</code></h2>
            <form action="" id="" class="">
              <div class="form-group">
                <label for="countryInput">Country</label>
                <div class="typeahead__container">
                  <div class="typeahead__field">
                    <span class="typeahead__query">
                          <input class="form-control"
                                 id="countryInput"
                                 name="countryInput"
                                 type="search"
                                 value="Italy"
                                 autocomplete="off">
                      </span>
                    <input type="hidden" id="countryHidden" value="it">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="country-dyn-input">3wordaddress</label>
                <input type="text" class="form-control w3w-address-field" id="country-dyn-input">
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- /.countryfilter -->
      <div role="tabpanel" class="tab-pane" id="noform">
        <div class="panel demo">
          <div class="panel-body">
            <h2>validation plugin <small>is not working outside form</small></h2>
            <div class="form-row">
              <input type="text" class="w3w-address-field" id="noform-valid">
            </div>
            <h3><small>but <code>aria-invalid</code> attribute is set when selecting a suggestion</small></h3>
          </div>
        </div>
      </div>
      <!-- /.noform -->
      <div role="tabpanel" class="tab-pane" id="tabrtl">
        <div class="panel demo">
          <div class="panel-body">
            <h2>direction RTL</h2>
            <div class="form-row">
              <input type="text" class="w3w-address-field" id="rtl-fixed">
            </div>
          </div>
        </div>
      </div>
      <!-- /.tabrtl -->
      <div role="tabpanel" class="tab-pane" id="tabclip">
        <div class="panel demo">
          <div class="panel-body">
            <h2>Focus Clipped</h2>
            <div class="form-row">
              <input type="text" class="w3w-address-field" id="focus-clipped">
              <h3><small><code>focus: '51.521251,-0.203586',</code> and <code>clip: 'bbox(52,0.3,50,-0.3)'</code></small></h3>
            </div>
          </div>
        </div>
      </div>
      <!-- /.tabclip -->
    </div>
    <div style="margin: 150px;">&nbsp;</div>
  </div>
  <!-- /.container -->
  <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/jquery.selectric/1.11.1/jquery.selectric.min.js"></script>
  <!-- include plugin's javascript -->
  <script src="../dist/js/jquery.w3w-autosuggest-plugin.bundle.js"></script>
  <!-- file defining YOUR API KEY -->
  <!-- var key = 'YOUR-API-KEY'; -->
  <script src="key.js"></script>
  <script>
  $(function() {
    $('#selectCountry').selectric();

    $('#ml-one').w3wAddress({
      key: key,
      // logo: false,
      results: 5,
      lang: 'en'
    });

    $('.ml-demo').w3wAddress({
      key: key,
      results: 5,
      lang: 'en'
    });

    $('#ml-no-validation').w3wAddress({
      key: key,
      results: 5,
      validation: false,
      lang: 'en'
    });

    $('#autosuggest-en-val').w3wAddress({
      key: key,
      results: 5,
      multilingual: false,
      lang: 'en'
    });

    $('#autosuggest-en-no-val').w3wAddress({
      key: key,
      results: 5,
      multilingual: false,
      lang: 'en',
      validation: false
    });

    $('#noform-valid').w3wAddress({
      key: key,
      results: 5,
      lang: 'en'
    });

    // to rename
    $('#country-fixed').w3wAddress({
      key: key,
      results: 5,
      country_filter: 'gb',
      lang: 'en'
    });

    $('#country-dyn-select').w3wAddress({
      key: key,
      results: 5,
      lang: 'en',
      country_filter: '#selectCountry'
    });

    $('#country-dyn-input').w3wAddress({
      key: key,
      results: 5,
      lang: 'en',
      country_filter: '#countryHidden'
    });

    $('#rtl-fixed').w3wAddress({
      key: key,
      logo: true,
      results: 5,
      lang: 'en',
      direction: 'rtl'
    });

    $('#focus-clipped').w3wAddress({
      key: key,
      logo: true,
      results: 5,
      multilingual: false,
      focus: '51.521251,-0.203586',
      clip: 'bbox(52,0.3,50,-0.3)',
      lang: 'en'
    });

    var eeCountries = [{
        code: "at",
        name: "Austria"
      },
      {
        code: "be",
        name: "Belgium"
      },
      {
        code: "bg",
        name: "Bulgaria"
      },
      {
        code: "hr",
        name: "Croatia"
      },
      {
        code: "cy",
        name: "Cyprus"
      },
      {
        code: "cz",
        name: "Czech Republic"
      },
      {
        code: "dk",
        name: "Denmark"
      },
      {
        code: "ee",
        name: "Estonia"
      },
      {
        code: "fi",
        name: "Finland"
      },
      {
        code: "fr",
        name: "France"
      },
      {
        code: "de",
        name: "Germany"
      },
      {
        code: "gr",
        name: "Greece"
      },
      {
        code: "hu",
        name: "Hungary"
      },
      {
        code: "ie",
        name: "Ireland"
      },
      {
        code: "it",
        name: "Italy"
      },
      {
        code: "lv",
        name: "Latvia"
      },
      {
        code: "lt",
        name: "Lithuania"
      },
      {
        code: "lu",
        name: "Luxembourg"
      },
      {
        code: "mt",
        name: "Malta"
      },
      {
        code: "nl",
        name: "Netherlands"
      },
      {
        code: "pl",
        name: "Poland"
      },
      {
        code: "pt",
        name: "Portugal"
      },
      {
        code: "ro",
        name: "Romania"
      },
      {
        code: "sk",
        name: "Slovakia"
      },
      {
        code: "si",
        name: "Slovenia"
      },
      {
        code: "es",
        name: "Spain"
      },
      {
        code: "se",
        name: "Sweden"
      },
      // done on #BrexitDay 29/03/2017 by bye UK
      {
        code: "gb",
        name: "United Kingdom"
      }
      //
    ];
    $.typeahead({
      input: '#countryInput',
      order: 'asc',
      searchOnFocus: true,
      source: {
        data: eeCountries,
        display: 'name'
      },
      debug: true,
      callback: {
        onInit: function(node) {
          console.log('Typeahead Initiated on ' + node.selector);
        },
        onClickAfter: function(node, a, item, event) {
          $('#countryHidden').val(item['code']);
        },
        onCancel: function(node, event) {
          $('#countryHidden').val('');
        }
      }
    });
  });

  $('#focus-clipped').on('cancel', function() {
    console.log('#focus-clipped cancel');
  });
  $('#focus-clipped').on('selection', function(e, words) {
    console.log('#focus-clipped selection', words);
    if( words === undefined ) {
      console.log(e);
    }
  });
  $('#focus-clipped').on('searched', function(e, words) {
    console.log('#focus-clipped search', words);
    if( words === undefined ) {
      console.log(e);
    }
  });
  </script>
</body>

</html>
